# Сервіс Windows для задач моделювання
## Виконали студенти групи ТВ-33:
- Голдовський Олександр
- Козінченко Тимофій
- Левун Тимофій
- Чернявський Максим



# Modeling Service — Інструкція з розгортання

## Опис системи
Система складається з трьох компонентів:
1. task_manager — веб-панель (сайт) для створення задач.
2. solver_windows_service — Windows Service, який виконує задачі у фоновому режимі.
3. Redis — сервер черги, через який сайт передає задачі у сервіс.

## Необхідні програми

### 1. Python 3.10 або новіший
Завантажити: https://www.python.org/downloads/  
Під час встановлення необхідно поставити галочку "Add Python to PATH".

### 2. Redis для Windows
Завантажити: https://github.com/tporadowski/redis/releases  
Файл: Redis-x64-5.0.14.1.msi  
Під час встановлення потрібно увімкнути "Add Redis to PATH".

Перевірка встановлення:
```
redis-cli ping
```
Очікувана відповідь:
```
PONG
```

## Підготовка проекту

### 1. Розпакуйте архів
Рекомендується шлях без кирилиці, наприклад:
```
C:\ModelingService
```

### 2. Встановіть залежності
У PowerShell, відкритому в папці проекту:
```
pip install -r requirements.txt
```

## Запуск системи (рекомендований варіант)

### 1. Встановлення Windows Service
Відкрийте PowerShell від імені Адміністратора та перейдіть у папку проекту:
```
cd "C:\ModelingService"
```

Встановіть сервіс:
```
python solver_windows_service/app.py --startup auto install
```

### 2. Запуск Windows Service
1. Натисніть Win + R
2. Введіть:
```
services.msc
```
3. У списку знайдіть:
Python Solver Service (TSP)
4. Клікніть "Start"

### 3. Запуск веб-сервера
У звичайному PowerShell (не адмін):
```
python -m uvicorn task_manager.web_backend:app --reload --port 8000
```

Після цього сайт буде доступний за адресою:
```
http://localhost:8000
```

## Використання
1. Перейдіть на сторінку http://localhost:8000
2. Створіть нову задачу
3. Дочекайтесь обробки Windows Service
4. Перегляньте результат, натиснувши "View Result" у картці задачі

Статуси задач:
- Pending — задача у черзі
- Working — задача обробляється
- Done — задача завершена

## Типові проблеми та рішення

### Проблема: Redis Connection Error
Причина: Redis не запущений.  
Рішення: запустити Redis вручну або перевстановити.

### Проблема: сайт не відкривається
Перевірити, чи запущено команду:
```
python -m uvicorn ...
```

### Проблема: задача зависає у Pending
Причина: Windows Service не запущений.  
Рішення: відкрити services.msc та натиснути Start.

## Видалення
1. Відкрити PowerShell від імені Адміністратора
2. Перейти в папку проекту:
```
cd "C:\ModelingService"
```
3. Виконати команду:
```
python solver_windows_service/app.py remove
```
4. Видалити папку проекту.
